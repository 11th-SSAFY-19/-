# 2장 개략적인 규모 추정

- 어떤 설계가 요구사항에 부합할 것인지 보기 위한 것

# 응답지연 값

- 메모리는 빠르지만 디스크는 아직도 느리다.
- 디스크 탐색(seek)은 가능한 피하라
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라

# 가용성에 관계된 수치들

- 고가용성

시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력을 지칭하는 용어다.

![Untitled](./[1주차]_2장_개략적인%20규모%20추정_최광민/Untitled.png)

# 개략적 규모 추정 문제

QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버 수 추정

## 트위터 QPS와 저장소 요구량 추정

### 가정

- 월간 능동 사용자는 3억명이다.
- 50% 사용자가 트위터를 매일 사용한다.
- 평균적으로 각 사용자는 매일 2건의 트윗을 올린다
- 미디어를 포함하는 트윗은 10% 정도다
- 데이터는 5년간 보관된다.

### 추정

- QPS 추정치

일간 능동 사용자 = 3억 \* 0.5 = 1.5억

- QPS

  1.5억 \* 2트윗 / 24시간 / 3600초 = 약 3500

- 최대 QPS

2 \* QPS(3500) = 7000

- 미디어 저장을 위한 저장소 요구량
  - tweet_id 64바이트
  - 텍스트에 140바이트
  - 미디어에 1MB

미디어 저장소 요구량 : 1.5억 _ 2 _ 10% \* 1MB = 30TB / 일

5년간 미디어를 보관하기 위한 저장소 요구량 : 30TM _ 365 _ 5 = 약 55PB

# 그림 출처

https://dream-and-develop.tistory.com/285
